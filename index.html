<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' 'unsafe-inline'; script-src 'unsafe-eval' 'self' 'unsafe-inline';img-src  data: ;"
    />
    <!-- <script src="./UI.js"></script> -->
    <!-- <script src="./UI.zh-Hant.js"></script> -->
    <script>
      window.$ = window.jQuery = require("jquery");
      require("bootstrap");
      require("@popperjs/core");
    </script>
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap/dist/css/bootstrap.css"
    />

    <style>
      body {
        height: 100vh;
      }
      .winCtrl-btn {
        background-color: rgba(255, 255, 255, 0);
      }
    </style>

    <title>Easy ADB and fastboot</title>
  </head>

  <body>
    <div
      id="winCtrl-bar"
      class="d-flex flex-row-reverse"
      style="-webkit-app-region: drag"
    >
      <button
        id="close-btn"
        class="winCtrl-btn border-0"
        style="-webkit-app-region: none"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-x-lg"
          viewBox="0 0 16 16"
        >
          <path
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"
          />
        </svg>
      </button>
      <button
        id="max-btn"
        class="winCtrl-btn border-0"
        style="-webkit-app-region: none"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-app"
          viewBox="0 0 16 16"
        >
          <path
            d="M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z"
          />
        </svg>
      </button>
      <button
        id="min-btn"
        class="winCtrl-btn border-0"
        style="-webkit-app-region: none"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-dash-lg"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"
          />
        </svg>
      </button>
    </div>
    <div id="main-content" class="d-flex flex-row">
      <div id="sidebar" class="" style="height: 100%">
        <nav class="nav flex-column bg-dark" style="height: 100%">
          <a class="nav-link active" href="#">Active</a>
          <a class="nav-link" href="#">Link</a>
          <a class="nav-link" href="#">Link</a>
          <a class="nav-link disabled" href="#">Disabled</a>
        </nav>
      </div>
      <div class="" style="width: 100%">
        <div class="container" style="width: 100%">
          <h1>www</h1>
        </div>
      </div>
    </div>
  </body>
  <script>
    const ipc = require("electron").ipcRenderer;
    $(document).ready(function () {
      $("#close-btn").click(function (e) {
        e.preventDefault();

        ipc.send("close-window");
      });
      $("#max-btn").click(function (e) {
        e.preventDefault();

        ipc.send("maximize-window");
      });
      $("#min-btn").click(function (e) {
        e.preventDefault();

        ipc.send("minimize-window");
      });

      $(window).resize(function () {
        // console.log(`calc(100vh-${$('#winCtrl-bar').height()}px)`)
        $("#main-content").css(
          "height",
          `calc(100vh - ${$("#winCtrl-bar").height()}px)`
        );
        $("#sidebar").css("width", `${screen.width / 7}px`);
      });
    });
  </script>
</html>
